<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fate Flipper â˜… An Epic Coin Quest</title>
    <meta name="description" content="Flip coins to decide your fate! An interactive story where every flip shapes your destiny. Save the Queen, become the King, or meet your doom!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‘‘</text></svg>">
</head>
<body>
    <!-- Floating sparkles background -->
    <div class="sparkles" id="sparkles"></div>
    <div class="confetti-container" id="confetti"></div>

    <!-- Top controls -->
    <div class="top-controls">
        <button class="control-btn" id="themeToggle" title="Toggle Dark Mode">
            <span class="theme-icon">ğŸŒ™</span>
        </button>
        <button class="control-btn" id="soundToggle" title="Toggle Sound">
            <span class="sound-icon">ğŸ”Š</span>
        </button>
    </div>

    <!-- Mode selector tabs -->
    <div class="mode-tabs">
        <button class="mode-tab active" data-mode="story">âš”ï¸ Story Mode</button>
        <button class="mode-tab" data-mode="classic">ğŸª™ Classic Mode</button>
    </div>

    <!-- ==================== STORY MODE ==================== -->
    <div class="container story-container" id="storyMode">
        <!-- Story Header -->
        <header class="story-header">
            <h1>âš”ï¸ Fate Flipper âš”ï¸</h1>
            <p class="story-tagline">Every flip decides your destiny</p>
        </header>

        <!-- Character Status Bar -->
        <div class="character-status" id="characterStatus">
            <div class="status-row with-avatar">
                <div class="mini-avatar" id="miniAvatar">
                    <svg viewBox="0 0 100 120" class="mini-avatar-svg" id="miniAvatarSvg"></svg>
                </div>
                <div class="status-info">
                    <div class="status-item">
                        <span class="status-label">Hero</span>
                        <span class="status-value" id="heroName">Unknown</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Chapter</span>
                        <span class="status-value" id="currentChapter">1</span>
                    </div>
                </div>
            </div>
            <div class="status-bars">
                <div class="bar-container">
                    <span class="bar-label">â¤ï¸ Health</span>
                    <div class="status-bar health-bar">
                        <div class="bar-fill health-fill" id="healthBar" style="width: 100%"></div>
                    </div>
                    <span class="bar-value" id="healthValue">100/100</span>
                </div>
                <div class="bar-container">
                    <span class="bar-label">â­ Reputation</span>
                    <div class="status-bar rep-bar">
                        <div class="bar-fill rep-fill" id="repBar" style="width: 50%"></div>
                    </div>
                    <span class="bar-value" id="repValue">50/100</span>
                </div>
                <div class="bar-container">
                    <span class="bar-label">ğŸ’° Gold</span>
                    <div class="status-bar gold-bar">
                        <div class="bar-fill gold-fill" id="goldBar" style="width: 20%"></div>
                    </div>
                    <span class="bar-value" id="goldValue">20</span>
                </div>
            </div>
            <div class="inventory" id="inventory">
                <span class="inv-label">ğŸ’ Items:</span>
                <span class="inv-items" id="invItems">None</span>
            </div>
        </div>

        <!-- Story Scene -->
        <div class="story-scene" id="storyScene">
            <div class="scene-image" id="sceneImage">ğŸ‘¤</div>
            <div class="scene-text" id="sceneText">
                <p>Welcome, brave adventurer...</p>
            </div>
        </div>

        <!-- Choice Display -->
        <div class="choice-display" id="choiceDisplay">
            <div class="choice heads-choice">
                <span class="choice-icon">â˜…</span>
                <span class="choice-label">HEADS</span>
                <span class="choice-text" id="headsChoice">Brave path</span>
            </div>
            <div class="choice tails-choice">
                <span class="choice-icon">â™¡</span>
                <span class="choice-label">TAILS</span>
                <span class="choice-text" id="tailsChoice">Cautious path</span>
            </div>
        </div>

        <!-- Coin Area -->
        <div class="coin-area">
            <div class="coin-glow"></div>
            <div class="coin-container">
                <div class="coin story-coin" id="storyCoin">
                    <div class="side heads">
                        <span class="coin-face">âš”ï¸</span>
                        <span class="coin-text">FATE</span>
                    </div>
                    <div class="side tails">
                        <span class="coin-face">ğŸ›¡ï¸</span>
                        <span class="coin-text">DESTINY</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Flip Button -->
        <button class="flip-btn story-flip-btn" id="storyFlipBtn">
            <span class="btn-sparkle">âš”ï¸</span>
            <span class="btn-text">Flip Your Fate!</span>
            <span class="btn-sparkle">ğŸ›¡ï¸</span>
        </button>

        <!-- Story Progress -->
        <div class="story-progress">
            <div class="progress-label">Quest Progress</div>
            <div class="progress-bar">
                <div class="progress-fill" id="questProgress" style="width: 0%"></div>
            </div>
            <div class="progress-chapters" id="progressChapters"></div>
        </div>

        <!-- Story Stats -->
        <div class="story-stats">
            <div class="story-stat">
                <span class="stat-icon">âš”ï¸</span>
                <span class="stat-label">Battles Won</span>
                <span class="stat-value" id="battlesWon">0</span>
            </div>
            <div class="story-stat">
                <span class="stat-icon">ğŸ’€</span>
                <span class="stat-label">Deaths</span>
                <span class="stat-value" id="deaths">0</span>
            </div>
            <div class="story-stat">
                <span class="stat-icon">ğŸ‘‘</span>
                <span class="stat-label">Endings Found</span>
                <span class="stat-value" id="endingsFound">0/5</span>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="story-actions">
            <button class="action-btn" id="restartStory">ğŸ”„ Restart Quest</button>
            <button class="action-btn" id="viewEndings">ğŸ“œ View Endings</button>
        </div>

        <!-- Mascot -->
        <div class="mascot-area">
            <div class="mascot" id="storyMascot">( â€¢Ì€á´—â€¢Ì )Ùˆ</div>
            <div class="mascot-speech" id="storyMascotSpeech">Your fate awaits!</div>
        </div>
    </div>

    <!-- ==================== CLASSIC MODE ==================== -->
    <div class="container classic-container" id="classicMode" style="display: none;">
        <header class="header">
            <h1>âœ§ Kawaii Coin Flipper âœ§</h1>
            <p class="subtitle">~ Make a wish and flip! ~</p>
        </header>

        <!-- Coin theme selector -->
        <div class="theme-selector">
            <span class="theme-label">Coin Style:</span>
            <div class="coin-themes">
                <button class="coin-theme-btn active" data-theme="kawaii" title="Kawaii">ğŸ’–</button>
                <button class="coin-theme-btn" data-theme="gold" title="Classic Gold">ğŸª™</button>
                <button class="coin-theme-btn" data-theme="galaxy" title="Galaxy">ğŸŒŒ</button>
                <button class="coin-theme-btn" data-theme="neon" title="Neon">ğŸ’œ</button>
                <button class="coin-theme-btn" data-theme="sakura" title="Sakura">ğŸŒ¸</button>
            </div>
        </div>

        <!-- Main coin area -->
        <div class="coin-area">
            <div class="coin-glow"></div>
            <div class="coin-container">
                <div class="coin" id="coin">
                    <div class="side heads">
                        <span class="coin-face" id="headsFace">â˜…</span>
                        <span class="coin-text">HEADS</span>
                    </div>
                    <div class="side tails">
                        <span class="coin-face" id="tailsFace">â™¡</span>
                        <span class="coin-text">TAILS</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Flip button -->
        <button class="flip-btn" id="flipBtn">
            <span class="btn-sparkle">âœ§</span>
            <span class="btn-text">Flip!</span>
            <span class="btn-sparkle">âœ§</span>
        </button>

        <!-- Quick flip options -->
        <div class="quick-flips">
            <button class="quick-flip-btn" data-flips="5">5x Flip</button>
            <button class="quick-flip-btn" data-flips="10">10x Flip</button>
            <button class="quick-flip-btn" data-flips="100">100x Flip</button>
        </div>

        <!-- Result display -->
        <div class="result-area">
            <div class="result" id="result"></div>
            <div class="streak" id="streak"></div>
        </div>

        <!-- Statistics panel -->
        <div class="stats-panel">
            <h3>â™¡ Statistics â™¡</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-icon">â˜…</span>
                    <span class="stat-label">Heads</span>
                    <span class="stat-value" id="headsCount">0</span>
                    <span class="stat-percent" id="headsPercent">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">â™¡</span>
                    <span class="stat-label">Tails</span>
                    <span class="stat-value" id="tailsCount">0</span>
                    <span class="stat-percent" id="tailsPercent">0%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">âœ§</span>
                    <span class="stat-label">Total</span>
                    <span class="stat-value" id="totalFlips">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ”¥</span>
                    <span class="stat-label">Best Streak</span>
                    <span class="stat-value" id="bestStreak">0</span>
                </div>
            </div>
            <div class="stats-bar">
                <div class="bar-heads" id="barHeads"></div>
                <div class="bar-tails" id="barTails"></div>
            </div>
            <button class="reset-btn" id="resetBtn">Reset Stats â†º</button>
        </div>

        <!-- Achievements -->
        <div class="achievements-panel">
            <h3>ğŸ† Achievements</h3>
            <div class="achievements-grid" id="achievements">
                <div class="achievement locked" data-id="first-flip" title="First Flip - Flip your first coin">
                    <span class="achievement-icon">ğŸŒŸ</span>
                    <span class="achievement-name">First Flip</span>
                </div>
                <div class="achievement locked" data-id="ten-flips" title="Getting Started - Flip 10 coins">
                    <span class="achievement-icon">ğŸ¯</span>
                    <span class="achievement-name">10 Flips</span>
                </div>
                <div class="achievement locked" data-id="hundred-flips" title="Dedicated - Flip 100 coins">
                    <span class="achievement-icon">ğŸ’¯</span>
                    <span class="achievement-name">100 Flips</span>
                </div>
                <div class="achievement locked" data-id="thousand-flips" title="Coin Master - Flip 1000 coins">
                    <span class="achievement-icon">ğŸ‘‘</span>
                    <span class="achievement-name">1000 Flips</span>
                </div>
                <div class="achievement locked" data-id="streak-5" title="Lucky! - Get 5 same results in a row">
                    <span class="achievement-icon">ğŸ€</span>
                    <span class="achievement-name">5 Streak</span>
                </div>
                <div class="achievement locked" data-id="streak-10" title="On Fire! - Get 10 same results in a row">
                    <span class="achievement-icon">ğŸ”¥</span>
                    <span class="achievement-name">10 Streak</span>
                </div>
                <div class="achievement locked" data-id="perfect-balance" title="Perfectly Balanced - Get exactly 50/50 after 100 flips">
                    <span class="achievement-icon">âš–ï¸</span>
                    <span class="achievement-name">Balance</span>
                </div>
                <div class="achievement locked" data-id="night-owl" title="Night Owl - Flip at midnight">
                    <span class="achievement-icon">ğŸ¦‰</span>
                    <span class="achievement-name">Night Owl</span>
                </div>
            </div>
        </div>

        <!-- History -->
        <div class="history-panel">
            <h3>ğŸ“œ Recent Flips</h3>
            <div class="history-list" id="history"></div>
            <button class="clear-history-btn" id="clearHistory">Clear History</button>
        </div>

        <!-- Share section -->
        <div class="share-panel">
            <h3>ğŸ“¤ Share Your Luck!</h3>
            <button class="share-btn" id="shareBtn">
                <span>Share Results</span>
            </button>
            <button class="copy-btn" id="copyBtn">
                <span>ğŸ“‹ Copy Stats</span>
            </button>
        </div>

        <!-- Fun facts -->
        <div class="fun-fact" id="funFact">
            <span class="fact-icon">ğŸ’¡</span>
            <span class="fact-text">Did you know? A coin has about a 51% chance of landing on the side it started on!</span>
        </div>

        <!-- Mascot -->
        <div class="mascot-area">
            <div class="mascot" id="mascot">( Ë¶Ë†á—œË†Ëµ )</div>
            <div class="mascot-speech" id="mascotSpeech">Good luck!</div>
        </div>

        <footer class="footer">
            <p>Made with ğŸ’– | Press <kbd>Space</kbd> to flip!</p>
        </footer>
    </div>

    <!-- Achievement popup -->
    <div class="achievement-popup" id="achievementPopup">
        <div class="achievement-popup-content">
            <span class="popup-icon" id="popupIcon">ğŸ†</span>
            <span class="popup-title">Achievement Unlocked!</span>
            <span class="popup-name" id="popupName"></span>
        </div>
    </div>

    <!-- Ending popup -->
    <div class="ending-popup" id="endingPopup">
        <div class="ending-content">
            <div class="ending-icon" id="endingIcon">ğŸ‘‘</div>
            <h2 class="ending-title" id="endingTitle">Victory!</h2>
            <p class="ending-text" id="endingText"></p>
            <div class="ending-stats" id="endingStats"></div>
            <button class="ending-btn" id="playAgainBtn">ğŸ”„ Play Again</button>
            <button class="ending-btn secondary" id="viewAllEndingsBtn">ğŸ“œ View All Endings</button>
        </div>
    </div>

    <!-- Endings collection popup -->
    <div class="endings-collection-popup" id="endingsCollectionPopup">
        <div class="endings-collection-content">
            <h2>ğŸ“œ Endings Collection</h2>
            <div class="endings-grid" id="endingsGrid"></div>
            <button class="ending-btn" id="closeEndingsBtn">Close</button>
        </div>
    </div>

    <!-- Character Creator popup -->
    <div class="name-popup" id="namePopup">
        <div class="name-popup-content character-creator">
            <h2>âš”ï¸ Create Your Hero âš”ï¸</h2>

            <!-- Avatar Preview -->
            <div class="avatar-preview" id="avatarPreview">
                <svg viewBox="0 0 100 120" class="avatar-svg" id="avatarSvg">
                    <!-- Will be rendered by JS -->
                </svg>
            </div>

            <!-- Character Options -->
            <div class="creator-options">
                <!-- Gender -->
                <div class="option-group">
                    <label>Gender</label>
                    <div class="option-buttons" id="genderOptions">
                        <button class="option-btn active" data-option="gender" data-value="male">â™‚ï¸ Male</button>
                        <button class="option-btn" data-option="gender" data-value="female">â™€ï¸ Female</button>
                    </div>
                </div>

                <!-- Skin Tone -->
                <div class="option-group">
                    <label>Skin Tone</label>
                    <div class="color-options" id="skinOptions"></div>
                </div>

                <!-- Hair Style -->
                <div class="option-group">
                    <label>Hair Style</label>
                    <div class="option-buttons hair-buttons" id="hairStyleOptions"></div>
                </div>

                <!-- Hair Color -->
                <div class="option-group">
                    <label>Hair Color</label>
                    <div class="color-options" id="hairColorOptions"></div>
                </div>

                <!-- Eye Color -->
                <div class="option-group">
                    <label>Eye Color</label>
                    <div class="color-options" id="eyeColorOptions"></div>
                </div>

                <!-- Outfit/Class -->
                <div class="option-group">
                    <label>Class</label>
                    <div class="option-buttons class-buttons" id="outfitOptions"></div>
                </div>
            </div>

            <!-- Name Input -->
            <div class="name-input-section">
                <label>Hero Name</label>
                <input type="text" id="heroNameInput" placeholder="Enter your name..." maxlength="20">
            </div>

            <button class="name-submit-btn" id="nameSubmitBtn">âš”ï¸ Begin Adventure! âš”ï¸</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
